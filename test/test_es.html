<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
    <svg id="map"></svg>
    <script src="../build/eurostatmap.js"></script>
    <script>

        const map = eurostatmap
            .map("ch", {
                title: "Population in Spain",
                scale: "10M",
                geoCenter: [3220000,1970000],
                pixSize: 1700,
                stats: { eurostatDatasetCode:"demo_r_d3dens" },
                unitText: "people/kmÂ²",
                tooltipShowFlags: false,
                classifMethod: "threshold", threshold: [40, 70, 100, 150, 300, 800],
            })
            .withInsets([{ geo:"IC", pixSize:1700, width:320, height:150, title:"Canary islands", titleFontSize:15 }]).insetBoxPosition([470,520])
            .withLegend( {labelDecNb:0, width: 60, x:20, y:100 } )
            .build();

            //set title with date
            setTimeout(() => {
                map.title(map.title() + " in " + map.getTime());
            }, 2000)

    </script>
</body>

</html>
