<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
    <svg id="map"></svg>
    <svg id="map2"></svg>
    <script src="../build/eurostatmap.js"></script>
    <script>
        // eurostatmap
        //     .map("pie")
        //     .scale("10M")
        //     .width(900)
        //     .nutsLvl(1)
        //     .nutsYear(2016)
        //     //livestock
        //     .statPie( { eurostatDatasetCode: "agr_r_animal", filters: { unit: "THS_HD", time: "2018" }, unitText: "thousand heads" },
        //         "animals",
        //         ["A2000", "A3100", "A4100", "A4200"], ["Bovines", "Pigs", "Sheep", "Goats"],
        //         ["#9cccfc",
        //         "#ffb2c6",
        //         '#ffc97a',
        //         "#9af6ce"]
        //     )
        //     .pieMaxRadius(20)
        //     .insets("default")
        //     .title("European livestock composition (2018)")
        //     .legend({
        //         x:550, 
        //         y:190, 
        //         boxOpacity: 0.8, 
        //         boxFill: "white",
        //         titleFontWeight:"bold",
        //         sizeLegend: {
        //             title: "Total livestock",
        //             values: [1000, 20000] 
        //         },
        //         colorLegend: {
        //             title: "Animal", 
        //         }
        //     })

        //     //map styling
        //     .seaFillStyle("aliceblue")
        //     .nutsrgFillStyle("white")
        //     .nutsrgSelFillSty("#3a724d")
        //     .nutsbnStroke({0:"#000", 1:"grey", 2:"grey", 3:"grey", oth:"grey", co:"black"})
        //     .nutsbnStrokeWidth({0:0.4, 1:0.2, 2:0, 3:0, oth:0, co:0.4})
        //     .cntrgFillStyle("#f4f4f4")
        //     .cntbnStroke({def:"none", co:"none"})
        //     .cntbnStrokeWidth({def:0, co:0})
        //     .drawCoastalMargin("false")
        //     .drawGraticule(true)
        //     .graticuleStroke("lightgrey")
        //     .graticuleStrokeWidth(1)
        //     .build();

            //https://ec.europa.eu/eurostat/wdds/rest/data/v2.1/json/en/hlth_cd_asdr2?geoLevel=nuts1&sex=T&precision=1&unit=RT&time=${time}&age=TOTAL&icd10=J
            eurostatmap
            .map("pie")
            .svgId("map2")
            .scale("10M")
            .width(1000)
            .nutsLvl(1)
            //.nutsYear(2016)
            //livestock
            .statPie( 
                { eurostatDatasetCode: "hlth_cd_asdr2", filters: { sex: "T", time: "2016", age:"TOTAL", unit:"RT" }, unitText: "death rate per 100 000" },
                "icd10",
                ["J", "C", "I"], 
                ["Respiratory", "Cancer", "Circulatory", "Other"],
                ["orange","#A4CDF8",'#2E7AF9','blue'], 
                "A-R_V-Y"
            )
            .pieMinRadius(8)
            .insets("default")
            .title("Causes of death, 2016")
            .legend({
                x:600, 
                y:250, 
                boxOpacity: 0.8, 
                boxFill: "white",
                titleFontWeight:"bold",
                sizeLegend: {
                    title: "Death rate per 100 000 inh.",
                    values: [500, 2000] 
                },
                colorLegend: {
                    title: "Cause of death", 
                }
            })

            //map styling
            .seaFillStyle("aliceblue")
            .nutsrgFillStyle("white")
            .nutsrgSelFillSty("#dce000")
            .nutsbnStroke({0:"black", 1:"grey", 2:"grey", 3:"grey", oth:"grey", co:"black"})
            .nutsbnStrokeWidth({0:0.5, 1:0.4, 2:0.4, 3:0.4, oth:0.4, co:0.5})
            .cntrgFillStyle("#f4f4f4")
            .cntbnStroke({def:"none", co:"none"})
            .cntbnStrokeWidth({def:0, co:0})
            .drawCoastalMargin("false")
            .drawGraticule(true)
            .graticuleStroke("lightgrey")
            .graticuleStrokeWidth(1)
            .build();

        </script>
</body>

</html>
